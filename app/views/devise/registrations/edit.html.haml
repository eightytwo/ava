%div{class: "form_wrapper"}
  %h3 Edit Account

  = devise_error_messages!

  %div{class: "form_content"}
    = form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put }) do |f|
      
      %div{class: "field_wrapper"}
        = f.label :username
        = f.text_field :username

      %div{class: "field_wrapper"}
        = f.label :email
        = f.email_field :email

      %div{class: "field_wrapper"}
        = f.label :password 
        %div{class: "field_tip"} (leave blank if not changing)
        = f.password_field :password, autocomplete: "off"

      %div{class: "field_wrapper"}
        = f.label :password_confirmation
        = f.password_field :password_confirmation

      %div{class: "field_wrapper"}
        = f.label :current_password
        %div{class: "field_tip"} (required to confirm your changes)
        = f.password_field :current_password

      %div{class: "field_wrapper"}
        = f.submit("Update", class: "button small green")

%div{class: "form_wrapper"}
  %h3 Cancel Account

  %div{class: "form_content"}
    %div{class: "links_wrapper"}
      = link_to "Cancel my account", registration_path(resource_name), :confirm => "Are you sure?", :method => :delete
