<% if comments.nil? or comments.count == 0 %>
  $('#av_comments').html("<%= t('comment.index.no_comments') %>");
<% else %>
  // Render the comments.
  $('#av_comments').html(
    "<%= escape_javascript(render partial: 'comment', collection: comments, locals: {owner: @commentable.user}) %>"
  );

  // Render the pagination links.
  $('#av_comments').append(
    "<%= escape_javascript(will_paginate comments, renderer: 'RemoteLinkRenderer') %>"
  );
<% end %>

// Render the form.
<% if @comment %>
  $("#add_comment_form_wrapper").html("<%= escape_javascript(render partial: 'form')%>");
<% end %>